cmake_minimum_required(VERSION 3.31)
project(ch32-devboard-firmware VERSION 0.1.0 LANGUAGES C CXX ASM)

# Set C++ standard
set(CMAKE_CXX_STANDARD 23)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_CXX_EXTENSIONS OFF)  # Use -std=c++17 instead of -std=gnu++17

# Set C standard
set(CMAKE_C_STANDARD 23)
set(CMAKE_C_STANDARD_REQUIRED ON)
set(CMAKE_C_EXTENSIONS OFF)  # Use -std=c11 instead of -std=gnu11

# Add subdirectories
#add_subdirectory(libs)
add_subdirectory(app)

# Picolibc
target_include_directories(${PROJECT_NAME} PRIVATE ${LIBC_PATH}/include)
target_link_libraries(${PROJECT_NAME} PRIVATE
  ${LIBC_PATH}/lib/libc.a
  ${LIBC_PATH}/lib/libm.a
)
